# Home Assistant Configuration
# RPi5 Home Assistant Suite v2.4.0-rc
# Auto-generated configuration - Customizable

homeassistant:
  name: Home
  latitude: 50.08
  longitude: 14.44
  elevation: 365
  unit_system: metric
  time_zone: Europe/Prague
  
  # Packages configuration
  packages: !include_dir_merge_named packages
  
  # Authentication
  auth_providers:
    - type: homeassistant
    - type: trusted_networks
      trusted_networks:
        - 192.168.1.0/24
        - 127.0.0.1

# ============================================================================
# DEFAULT CONFIGURATION
# ============================================================================
default_config:

# ============================================================================
# HTTP & SECURITY
# ============================================================================
http:
  server_port: 8123
  use_x_forwarded_for: true
  trusted_proxies:
    - 127.0.0.1
    - ::1
  login_attempts_threshold: 5
  ip_ban_enabled: true

# ============================================================================
# LOGGING
# ============================================================================
logger:
  default: info
  logs:
    homeassistant.components.mqtt: debug
    custom_components.hacs: debug

# ============================================================================
# MQTT (Mosquitto)
# ============================================================================
mqtt:
  broker: mosquitto
  port: 1883
  discovery: true
  discovery_prefix: homeassistant
  
  # Credentials from secrets.yaml
  username: !secret mqtt_username
  password: !secret mqtt_password
  
  # Client settings
  client_id: homeassistant
  keepalive: 60
  protocol: 3.1.1

# ============================================================================
# TEMPLATE SENSORS
# ============================================================================
template: !include templates.yaml

# ============================================================================
# SCRIPTS
# ============================================================================
script: !include scripts.yaml

# ============================================================================
# AUTOMATION
# ============================================================================
automation: !include automations.yaml

# ============================================================================
# FRONTEND & LOVELACE
# ============================================================================
frontend:
  themes: !include_dir_merge_named themes

lovelace:
  mode: yaml
  resources:
    - url: /hacsfiles/lovelace-card-mod/card-mod.js
      type: module

# ============================================================================
# RECORDER & DATABASE
# ============================================================================
recorder:
  db_url: !secret recorder_db_url
  purge_keep_days: 10
  auto_purge: true
  commit_interval: 30
  exclude:
    domains:
      - automation
      - script
    entity_globs:
      - sensor.time_*

# ============================================================================
# HISTORY & STATISTICS
# ============================================================================
history:

logbook:

# ============================================================================
# CORE INTEGRATIONS
# ============================================================================
sun:

stream:

wake_on_lan:
